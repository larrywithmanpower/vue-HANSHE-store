(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00d126ce"],{1799:function(e,t,c){"use strict";var o=c("7a23"),a={"aria-label":"Page navigation"},r={class:"pagination pagination-primary"};function d(e,t,c,d,l,i){return Object(o["openBlock"])(),Object(o["createBlock"])("nav",a,[Object(o["createVNode"])("ul",r,[Object(o["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_pre}]},[Object(o["createVNode"])("a",{class:"page-link link-primary",href:"#",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(t){return e.$emit("get-page",c.page.current_page-1)}),["prevent"]))}," Previous ")],2),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(c.page.total_pages,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{class:["page-item",{active:t===c.page.current_page}],key:t},[Object(o["createVNode"])("a",{class:"page-link link-primary",href:"#",onClick:Object(o["withModifiers"])((function(c){return e.$emit("get-page",t)}),["prevent"])},Object(o["toDisplayString"])(t),9,["onClick"])],2)})),128)),Object(o["createVNode"])("li",{class:["page-item",{disabled:!c.page.has_next}]},[Object(o["createVNode"])("a",{class:"page-link link-primary",href:"#",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(t){return e.$emit("get-page",c.page.current_page+1)}),["prevent"]))}," Next ")],2)])])}var l={props:["page"],emits:["get-page"]};c("c396");l.render=d;t["a"]=l},"6dfb":function(e,t,c){},c396:function(e,t,c){"use strict";c("6dfb")},d416:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),a={class:"container"},r=Object(o["createVNode"])("h2",{class:"mb-3 fw-bold"},"商品列表",-1),d={class:"table-responsive"},l={class:"table table-sm align-middle table-hover"},i=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{scope:"col",width:"5%"},"#"),Object(o["createVNode"])("th",{scope:"col",width:"30%"},"商品"),Object(o["createVNode"])("th",{scope:"col",width:"10%"},"價格"),Object(o["createVNode"])("th",{scope:"col",width:"10%"},"庫存"),Object(o["createVNode"])("th",{scope:"col",width:"10%"},"啟用狀態"),Object(o["createVNode"])("th",{width:"15%"})])],-1),n={scope:"row"},s={class:"d-flex align-items-center"},u={class:"text-warning"},b=Object(o["createVNode"])("br",null,null,-1),p=Object(o["createVNode"])("br",null,null,-1),m={key:0,class:"text-muted"},j={key:1,class:"text-muted"},O={key:2,class:"text-muted"},h=Object(o["createVNode"])("br",null,null,-1),f={key:3,class:"badge bg-danger"},g={key:0,class:"text-success"},v={key:1,class:"text-danger"},V={class:"btn-group"},N={class:"d-flex justify-content-center"};function k(e,t,c,k,P,y){var w=Object(o["resolveComponent"])("Loading"),M=Object(o["resolveComponent"])("Pagination"),x=Object(o["resolveComponent"])("ProductModal"),U=Object(o["resolveComponent"])("DelModal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(w,{active:P.isLoading},null,8,["active"]),Object(o["createVNode"])("div",a,[r,Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary mb-3",onClick:t[1]||(t[1]=function(e){return y.openModal("new")})}," 新增產品 "),Object(o["createVNode"])("div",d,[Object(o["createVNode"])("table",l,[i,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(P.products,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e.id},[Object(o["createVNode"])("th",n,Object(o["toDisplayString"])(t+1),1),Object(o["createVNode"])("td",s,[Object(o["createVNode"])("img",{src:e.imageUrl,alt:"第".concat(t+1,"圖"),class:"img-fluid me-3",width:"150"},null,8,["src","alt"]),Object(o["createVNode"])("span",null,[Object(o["createVNode"])("small",u,Object(o["toDisplayString"])(e.rate),1),b,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.title),1),p,"male"===e.sex?(Object(o["openBlock"])(),Object(o["createBlock"])("small",m,"男")):"female"===e.sex?(Object(o["openBlock"])(),Object(o["createBlock"])("small",j,"女")):"neutral"===e.sex?(Object(o["openBlock"])(),Object(o["createBlock"])("small",O,"中性")):Object(o["createCommentVNode"])("",!0),h,e.is_hot?(Object(o["openBlock"])(),Object(o["createBlock"])("small",f,"熱銷")):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])("td",null,"$ "+Object(o["toDisplayString"])(e.price),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.storageNum),1),Object(o["createVNode"])("td",null,[e.is_enabled?(Object(o["openBlock"])(),Object(o["createBlock"])("span",g,"啟用")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",v,"未啟用"))]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",V,[Object(o["createVNode"])("button",{class:"btn btn-outline-primary",type:"button",onClick:function(t){return y.openModal("edit",e)}}," 編輯 ",8,["onClick"]),Object(o["createVNode"])("button",{class:"btn btn-outline-danger",type:"button",onClick:function(t){return y.openModal("delete",e)}}," 刪除 ",8,["onClick"])])])])})),128))])])]),Object(o["createVNode"])("div",N,[Object(o["createVNode"])(M,{page:P.pagination,onGetPage:y.getProducts},null,8,["page","onGetPage"])])]),Object(o["createVNode"])(x,{ref:"ProductModal",id:"ProductModal","is-new":P.isNew,onUpdateProduct:y.updateProduct,tempProduct:P.tempProduct},null,8,["is-new","onUpdateProduct","tempProduct"]),Object(o["createVNode"])(U,{ref:"DelModal",id:"DelModal",item:P.tempProduct,onDelete:y.deleteProduct},null,8,["item","onDelete"])],64)}var P=c("5530"),y=(c("99af"),c("a15b"),c("a4d3"),c("e01a"),{class:"modal fade",id:"productModal",ref:"productModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"}),w={class:"modal-dialog modal-xl"},M={class:"modal-content"},x={class:"modal-header bg-dark text-white"},U={class:"modal-title",id:"productModalLabel"},D=Object(o["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),B={class:"modal-body"},_={class:"row"},C={class:"col-sm-4"},L={class:"mb-1"},$={class:"form-group"},T=Object(o["createVNode"])("label",{for:"imageUrl",class:"fw-bold"}," 主要圖片 ",-1),S=Object(o["createVNode"])("div",{class:"invalid-feedback",id:"validationServer05Feedback"}," 必填 ",-1),q={class:"form-group mb-3 position-relative"},F=Object(o["createVNode"])("label",{for:"photoFile",class:"fw-bold"}," 上傳圖片檔案 ",-1),A=Object(o["createVNode"])("hr",null,null,-1),R=Object(o["createVNode"])("div",{class:"mb-1 fw-bold"},"其他圖片",-1),I={key:0},H=Object(o["createVNode"])("label",{for:"imageUrl"},"圖片網址",-1),E={key:0},G={key:1},J={class:"mt-2"},z={class:"col-sm-8"},K={class:"form-group mb-3"},Q=Object(o["createVNode"])("label",{for:"title"},"標題",-1),W=Object(o["createVNode"])("div",{class:"invalid-feedback"}," 標題 必填 ",-1),X={class:"row"},Y={class:"form-group col-md-6 mb-3"},Z=Object(o["createVNode"])("label",{for:"category"},"分類",-1),ee=Object(o["createVNode"])("div",{class:"invalid-feedback"}," 分類 必填 ",-1),te={class:"form-group col-md-6 mb-3"},ce=Object(o["createVNode"])("label",{for:"unit"},"單位",-1),oe=Object(o["createVNode"])("div",{class:"invalid-feedback"}," 單位 必填 ",-1),ae={class:"row"},re={class:"form-group col-md-6 mb-3"},de=Object(o["createVNode"])("label",{for:"origin_price"},"原價",-1),le=Object(o["createVNode"])("div",{class:"invalid-feedback"}," 原價 必填 ",-1),ie={class:"form-group col-md-6"},ne=Object(o["createVNode"])("label",{for:"price"},"售價",-1),se=Object(o["createVNode"])("div",{class:"invalid-feedback"}," 售價 必填 ",-1),ue=Object(o["createVNode"])("hr",null,null,-1),be={class:"row"},pe={class:"form-group col-6 mb-3"},me=Object(o["createVNode"])("label",{for:"storageNum"},"庫存",-1),je=Object(o["createVNode"])("div",{class:"invalid-feedback"}," 庫存 必填 ",-1),Oe={class:"form-check col-6"},he=Object(o["createVNode"])("label",{class:"mb-1",for:"rate3"},"星等",-1),fe=Object(o["createVNode"])("br",null,null,-1),ge={class:"form-check form-check-inline"},ve=Object(o["createVNode"])("label",{class:"form-check-label",for:"rate1"},"1",-1),Ve={class:"form-check form-check-inline"},Ne=Object(o["createVNode"])("label",{class:"form-check-label",for:"rate2"},"2",-1),ke={class:"form-check form-check-inline"},Pe=Object(o["createVNode"])("label",{class:"form-check-label",for:"rate3"},"3",-1),ye={class:"form-check form-check-inline"},we=Object(o["createVNode"])("label",{class:"form-check-label",for:"rate4"},"4",-1),Me={class:"form-check form-check-inline"},xe=Object(o["createVNode"])("label",{class:"form-check-label",for:"rate5"},"5",-1),Ue={class:"form-group mb-3"},De=Object(o["createVNode"])("label",{for:"description"},"產品描述",-1),Be={class:"form-group mb-3"},_e=Object(o["createVNode"])("label",{for:"content"},"功能說明",-1),Ce={class:"row align-items-center ms-1"},Le={class:"form-check col-2"},$e=Object(o["createVNode"])("label",{class:"form-check-label",for:"is_enabled"},"啟用",-1),Te={class:"form-check col-2"},Se=Object(o["createVNode"])("label",{class:"form-check-label",for:"is_hot"},"熱銷",-1),qe={class:"form-check col-2"},Fe=Object(o["createVNode"])("label",{class:"form-check-label",for:"is_new"},"新品",-1),Ae={class:"form-check col-6"},Re={class:"form-check form-check-inline"},Ie=Object(o["createVNode"])("label",{class:"form-check-label",for:"male"},"男",-1),He={class:"form-check form-check-inline"},Ee=Object(o["createVNode"])("label",{class:"form-check-label",for:"neutral"},"中性",-1),Ge={class:"form-check form-check-inline"},Je=Object(o["createVNode"])("label",{class:"form-check-label",for:"female"},"女",-1),ze=Object(o["createVNode"])("div",{class:"modal-footer pb-0"},[Object(o["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消 "),Object(o["createVNode"])("button",{type:"submit",class:"btn btn-primary"}," 確認 ")],-1);function Ke(e,t,c,a,r,d){var l=Object(o["resolveComponent"])("ckeditor");return Object(o["openBlock"])(),Object(o["createBlock"])("div",y,[Object(o["createVNode"])("div",w,[Object(o["createVNode"])("div",M,[Object(o["createVNode"])("div",x,[Object(o["createVNode"])("h5",U,Object(o["toDisplayString"])(c.isNew?"新增商品":"編輯商品"),1),D]),Object(o["createVNode"])("div",B,[Object(o["createVNode"])("form",{class:"needs-validation",onSubmit:t[25]||(t[25]=function(t){return e.$emit("update-product",r.editProduct)}),novalidate:""},[Object(o["createVNode"])("div",_,[Object(o["createVNode"])("div",C,[Object(o["createVNode"])("div",L,[Object(o["createVNode"])("div",$,[T,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.editProduct.imageUrl=e}),type:"text",class:"form-control",placeholder:"請輸入圖片連結",required:""},null,512),[[o["vModelText"],r.editProduct.imageUrl]]),S]),Object(o["createVNode"])("img",{class:"img-fluid",src:r.editProduct.imageUrl},null,8,["src"])]),Object(o["createVNode"])("div",q,[F,Object(o["createVNode"])("input",{type:"file",id:"photoFile",class:"form-control",placeholder:"請輸入圖片路徑",onChange:t[2]||(t[2]=function(){return d.uploadImage&&d.uploadImage.apply(d,arguments)})},null,32)]),A,R,Array.isArray(r.editProduct.imagesUrl)?(Object(o["openBlock"])(),Object(o["createBlock"])("div",I,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(r.editProduct.imagesUrl,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"mb-1",key:t},[H,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":function(e){return r.editProduct.imagesUrl[t]=e},type:"text",class:"form-control",placeholder:"請輸入圖片連結"},null,8,["onUpdate:modelValue"]),[[o["vModelText"],r.editProduct.imagesUrl[t]]]),Object(o["createVNode"])("img",{src:r.editProduct.imagesUrl[t],class:"img-fluid"},null,8,["src"])])})),128)),!r.editProduct.imagesUrl.length||r.editProduct.imagesUrl[r.editProduct.imagesUrl.length-1]?(Object(o["openBlock"])(),Object(o["createBlock"])("div",E,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[3]||(t[3]=function(e){return r.editProduct.imagesUrl.push("")})}," 新增圖片 ")])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",G,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm d-block w-100",onClick:t[4]||(t[4]=function(e){return r.editProduct.imagesUrl.pop()})}," 刪除空白圖片網址 ")]))])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",J,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-sm btn-danger d-block w-100",onClick:t[5]||(t[5]=function(e){return d.removeImages()})}," 刪除圖片 ")])]),Object(o["createVNode"])("div",z,[Object(o["createVNode"])("div",K,[Q,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.editProduct.title=e}),id:"title",type:"text",class:"form-control",placeholder:"請輸入標題",required:""},null,512),[[o["vModelText"],r.editProduct.title]]),W]),Object(o["createVNode"])("div",X,[Object(o["createVNode"])("div",Y,[Z,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.editProduct.category=e}),id:"category",type:"text",class:"form-control",placeholder:"請輸入分類",required:""},null,512),[[o["vModelText"],r.editProduct.category]]),ee]),Object(o["createVNode"])("div",te,[ce,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.editProduct.unit=e}),id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位",required:""},null,512),[[o["vModelText"],r.editProduct.unit]]),oe])]),Object(o["createVNode"])("div",ae,[Object(o["createVNode"])("div",re,[de,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.editProduct.origin_price=e}),id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價",required:""},null,512),[[o["vModelText"],r.editProduct.origin_price,void 0,{number:!0}]]),le]),Object(o["createVNode"])("div",ie,[ne,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.editProduct.price=e}),id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價",required:""},null,512),[[o["vModelText"],r.editProduct.price,void 0,{number:!0}]]),se])]),ue,Object(o["createVNode"])("div",be,[Object(o["createVNode"])("div",pe,[me,Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.editProduct.storageNum=e}),id:"storageNum",type:"number",min:"0",class:"form-control",placeholder:"請輸入庫存",required:""},null,512),[[o["vModelText"],r.editProduct.storageNum,void 0,{number:!0}]]),je]),Object(o["createVNode"])("div",Oe,[he,fe,Object(o["createVNode"])("div",ge,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"rate1",value:1,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.editProduct.rate=e})},null,512),[[o["vModelRadio"],r.editProduct.rate,void 0,{number:!0}]]),ve]),Object(o["createVNode"])("div",Ve,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"rate2",value:2,"onUpdate:modelValue":t[13]||(t[13]=function(e){return r.editProduct.rate=e})},null,512),[[o["vModelRadio"],r.editProduct.rate,void 0,{number:!0}]]),Ne]),Object(o["createVNode"])("div",ke,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"rate3",value:3,"onUpdate:modelValue":t[14]||(t[14]=function(e){return r.editProduct.rate=e})},null,512),[[o["vModelRadio"],r.editProduct.rate,void 0,{number:!0}]]),Pe]),Object(o["createVNode"])("div",ye,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"rate4",value:4,"onUpdate:modelValue":t[15]||(t[15]=function(e){return r.editProduct.rate=e})},null,512),[[o["vModelRadio"],r.editProduct.rate,void 0,{number:!0}]]),we]),Object(o["createVNode"])("div",Me,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"rate5",value:5,"onUpdate:modelValue":t[16]||(t[16]=function(e){return r.editProduct.rate=e})},null,512),[[o["vModelRadio"],r.editProduct.rate,void 0,{number:!0}]]),xe])])]),Object(o["createVNode"])("div",Ue,[De,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{"onUpdate:modelValue":t[17]||(t[17]=function(e){return r.editProduct.description=e}),id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述",rows:"4"},null,512),[[o["vModelText"],r.editProduct.description]])]),Object(o["createVNode"])("div",Be,[_e,Object(o["createVNode"])("p",{innerHTML:r.editProduct.content},null,8,["innerHTML"]),Object(o["createVNode"])(l,{editor:r.editor,modelValue:r.editProduct.content,"onUpdate:modelValue":t[18]||(t[18]=function(e){return r.editProduct.content=e}),config:r.editorConfig},null,8,["editor","modelValue","config"])]),Object(o["createVNode"])("div",Ce,[Object(o["createVNode"])("div",Le,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[19]||(t[19]=function(e){return r.editProduct.is_enabled=e}),id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0},null,512),[[o["vModelCheckbox"],r.editProduct.is_enabled]]),$e]),Object(o["createVNode"])("div",Te,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[20]||(t[20]=function(e){return r.editProduct.is_hot=e}),id:"is_hot",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0},null,512),[[o["vModelCheckbox"],r.editProduct.is_hot]]),Se]),Object(o["createVNode"])("div",qe,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[21]||(t[21]=function(e){return r.editProduct.is_new=e}),id:"is_new",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0},null,512),[[o["vModelCheckbox"],r.editProduct.is_new]]),Fe]),Object(o["createVNode"])("div",Ae,[Object(o["createVNode"])("div",Re,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"male",value:"male","onUpdate:modelValue":t[22]||(t[22]=function(e){return r.editProduct.sex=e})},null,512),[[o["vModelRadio"],r.editProduct.sex]]),Ie]),Object(o["createVNode"])("div",He,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"neutral",value:"neutral","onUpdate:modelValue":t[23]||(t[23]=function(e){return r.editProduct.sex=e})},null,512),[[o["vModelRadio"],r.editProduct.sex]]),Ee]),Object(o["createVNode"])("div",Ge,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-check-input",type:"radio",id:"female",value:"female","onUpdate:modelValue":t[24]||(t[24]=function(e){return r.editProduct.sex=e})},null,512),[[o["vModelRadio"],r.editProduct.sex]]),Je])])])])]),ze],32)])])])],512)}c("159b"),c("fb6a");var Qe=c("7c2b"),We=c.n(Qe),Xe=c("fb3d"),Ye=c.n(Xe),Ze={props:["tempProduct","isNew"],emits:["update-product"],data:function(){return{productModal:{},editProduct:{storageNum:0,rate:"3",is_new:0,is_hot:0},editor:Ye.a,editorData:"<p>Content of the editor.</p>",editorConfig:{placeholder:"請輸入功能...",heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"}]},language:"tw"}}},mounted:function(){this.productModal=new We.a(this.$refs.productModal),function(){var e=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(e).forEach((function(e){e.addEventListener("submit",(function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!0)}))}()},watch:{tempProduct:function(){this.editProduct=this.tempProduct}},methods:{showModal:function(){this.productModal.show()},hideModal:function(){this.productModal.hide()},uploadImage:function(){var e=this,t=document.querySelector("#photoFile"),c=t.files[0],o=new FormData;o.append("file-to-upload",c);var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/admin/upload");this.$http.post(a,o).then((function(c){c.data.success&&(e.tempProduct.imageUrl?e.editProduct.imagesUrl.push(c.data.imageUrl):e.editProduct.imageUrl=c.data.imageUrl,t.value="")})).catch((function(e){console.log(e)}))},removeImages:function(){this.editProduct.imagesUrl.length?this.editProduct.imagesUrl.pop():this.editProduct.imageUrl=""}}};Ze.render=Ke;var et=Ze,tt=c("6ff1"),ct=c("1799"),ot={components:{ProductModal:et,DelModal:tt["a"],Pagination:ct["a"]},inject:["emitter"],data:function(){return{isLoading:!1,products:[],tempProduct:{imagesUrl:[],storageNum:0},isNew:!1,pagination:{},currentPage:""}},created:function(){this.getProducts()},methods:{getProducts:function(e){var t=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/admin/products?page=").concat(e);this.isLoading=!0,this.$http.get(c).then((function(e){e.data.success?(t.products=e.data.products,t.pagination=e.data.pagination,t.currentPage=e.data.pagination.current_page,t.isLoading=!1):(t.emitter.emit("push-message",{style:"danger",title:"商品取得失敗",content:e.data.message}),t.isLoading=!1)})).catch((function(e){console.log(e)}))},openModal:function(e,t){switch(e){case"new":this.isNew=!0,this.tempProduct={imagesUrl:[],storageNum:0},this.$refs.ProductModal.showModal();break;case"edit":this.isNew=!1,this.tempProduct=Object(P["a"])({imagesUrl:[]},t),this.$refs.ProductModal.showModal();break;case"delete":this.isNew=!1,this.tempProduct=Object(P["a"])({},t),this.$refs.DelModal.showModal();break;default:break}},updateProduct:function(e){var t=this;this.tempProduct=e;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/admin/product"),o="post";this.isNew||(c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/admin/product/").concat(this.tempProduct.id),o="put"),this.$http[o](c,{data:e}).then((function(e){e.data.success?(t.emitter.emit("push-message",{style:"success",title:e.data.message}),t.getProducts(t.currentPage),t.$refs.ProductModal.hideModal()):t.emitter.emit("push-message",{style:"danger",title:"更新失敗",content:e.data.message.join(",")})}))},deleteProduct:function(e){var t=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("larry","/admin/product/").concat(e.id);this.$http.delete(c).then((function(e){e.data.success?(t.emitter.emit("push-message",{style:"success",title:e.data.message}),t.getProducts(t.currentPage),t.$refs.DelModal.hideModal()):t.emitter.emit("push-message",{style:"danger",title:e.data.message})})).catch((function(e){return console.log(e)}))}}};ot.render=k;t["default"]=ot},fb6a:function(e,t,c){"use strict";var o=c("23e7"),a=c("861d"),r=c("e8b5"),d=c("23cb"),l=c("50c4"),i=c("fc6a"),n=c("8418"),s=c("b622"),u=c("1dde"),b=u("slice"),p=s("species"),m=[].slice,j=Math.max;o({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var c,o,s,u=i(this),b=l(u.length),O=d(e,b),h=d(void 0===t?b:t,b);if(r(u)&&(c=u.constructor,"function"!=typeof c||c!==Array&&!r(c.prototype)?a(c)&&(c=c[p],null===c&&(c=void 0)):c=void 0,c===Array||void 0===c))return m.call(u,O,h);for(o=new(void 0===c?Array:c)(j(h-O,0)),s=0;O<h;O++,s++)O in u&&n(o,s,u[O]);return o.length=s,o}})}}]);
//# sourceMappingURL=chunk-00d126ce.e1c7ddb2.js.map